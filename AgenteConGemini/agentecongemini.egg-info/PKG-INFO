Metadata-Version: 2.4
Name: agentecongemini
Version: 0.1.0
Summary: Task management agent with Gemini
Requires-Python: >=3.12
Description-Content-Type: text/markdown
Requires-Dist: mcp>=1.0.0
Requires-Dist: mirascope[google]>=1.0.0
Requires-Dist: pydantic>=2.0.0
Requires-Dist: httpx>=0.25.0
Requires-Dist: fastapi>=0.104.0
Requires-Dist: uvicorn[standard]>=0.24.0

# Agente IA con Gemini ğŸ¤–

API REST para gestiÃ³n de proyectos y tareas usando Gemini 2.0 Flash.

## ğŸš€ Inicio RÃ¡pido

### 1. Configurar variables de entorno
```bash
# Crear archivo .env
echo "GOOGLE_API_KEY=tu_clave_aqui" > .env
```

### 2. Instalar dependencias
```bash
uv sync
```

### 3. Iniciar API
```bash
./start_api.sh
```

La API estarÃ¡ disponible en: **http://localhost:8000**

## ğŸ“¡ API Endpoints

### POST /api/chat
EnvÃ­a mensajes al agente IA.

**Request:**
```json
{
  "message": "MuÃ©strame todos los proyectos"
}
```

**Response:**
```json
{
  "response": "AquÃ­ estÃ¡n los proyectos...",
  "success": true,
  "error": null
}
```

### GET /api/health
Verifica el estado del servicio.

**Response:**
```json
{
  "status": "ok",
  "message": "Agente IA funcionando correctamente",
  "api_key_configured": true
}
```

## ğŸ¨ Conectar Frontend React

### 1. Crear servicio de chat

```typescript
// src/services/chatService.ts
const API_URL = 'http://localhost:8000';

export const sendMessage = async (message: string) => {
  const response = await fetch(`${API_URL}/api/chat`, {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ message })
  });
  
  return response.json();
};

export const checkHealth = async () => {
  const response = await fetch(`${API_URL}/api/health`);
  return response.json();
};
```

### 2. Usar en componente

```tsx
// src/components/Chat.tsx
import { useState } from 'react';
import { sendMessage } from '../services/chatService';

export const Chat = () => {
  const [input, setInput] = useState('');
  const [messages, setMessages] = useState([]);
  const [loading, setLoading] = useState(false);

  const handleSend = async () => {
    if (!input.trim()) return;
    
    setLoading(true);
    try {
      const data = await sendMessage(input);
      
      setMessages(prev => [...prev, 
        { text: input, isUser: true },
        { text: data.response, isUser: false }
      ]);
      setInput('');
    } catch (error) {
      console.error('Error:', error);
    } finally {
      setLoading(false);
    }
  };

  return (
    <div>
      <div className="messages">
        {messages.map((msg, i) => (
          <div key={i} className={msg.isUser ? 'user' : 'bot'}>
            {msg.text}
          </div>
        ))}
      </div>
      
      <input 
        value={input}
        onChange={(e) => setInput(e.target.value)}
        onKeyPress={(e) => e.key === 'Enter' && handleSend()}
        placeholder="Escribe un mensaje..."
      />
      
      <button onClick={handleSend} disabled={loading}>
        Enviar
      </button>
    </div>
  );
};
```

## ğŸ’¬ Ejemplos de Consultas

- `"MuÃ©strame todos los proyectos"`
- `"Crea un proyecto llamado 'Mi App Web'"`
- `"Agrega una tarea 'DiseÃ±o del logo' al proyecto abc123"`
- `"Cambia el estado de la tarea xyz456 a completada"`
- `"MuÃ©strame las notas de la tarea task123"`

## ğŸ§ª Probar API

```bash
# Health check
curl http://localhost:8000/api/health

# Enviar mensaje
curl -X POST http://localhost:8000/api/chat \
  -H "Content-Type: application/json" \
  -d '{"message": "MuÃ©strame todos los proyectos"}'

# DocumentaciÃ³n interactiva
# http://localhost:8000/docs
```

## ğŸ—ï¸ Arquitectura

```
Frontend React (Puerto 5173)
         â†“
API REST FastAPI (Puerto 8000)
         â†“
Agente IA Gemini
         â†“
Task Service (Puerto 3000)
```

## âš ï¸ Requisitos

1. **GOOGLE_API_KEY** configurada en `.env`
2. **Task Service** ejecutÃ¡ndose en puerto 3000
3. **Python 3.12+** con `uv` instalado

## ğŸ› ï¸ Comandos Ãštiles

```bash
# Iniciar API
./start_api.sh

# CLI interactiva (modo consola)
uv run run.py

# Tests
uv run python test_api.py
```

## ğŸ“š DocumentaciÃ³n

- Swagger UI: http://localhost:8000/docs
- ReDoc: http://localhost:8000/redoc
